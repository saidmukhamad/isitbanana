<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        background-color: #000;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        font-family: monospace;
        color: #fff;
      }
      #ascii-container {
        position: fixed;
        top: 25%;
        font-size: 7px;
        line-height: 1;
        white-space: pre;
        transform-origin: center;
        transition: color 0.5s ease;
        animation: rotate 10s linear infinite;
      }

      @keyframes rotate {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      #message {
        font-size: 24px;
        font-weight: bold;
        height: 30px;
      }
      #cursor {
        animation: blink 0.7s infinite;
      }
      @keyframes blink {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0;
        }
      }
      #drop-area {
        border: 2px dashed #ccc;
        border-radius: 20px;
        width: 70%;
        padding: 20px;
        text-align: center;
        margin: 20px 0;
      }
      #drop-area.highlight {
        border-color: #f2fc2b;
      }
      #file-input {
        display: none;
      }
      #upload-label {
        cursor: pointer;
        background-color: #f2fc2b;
        color: #000;
        padding: 10px 20px;
        border-radius: 5px;
        display: inline-block;
      }
    </style>
  </head>
  <body>
    <div id="ascii-container"></div>
    <div id="message" class="glitch"></div>
    <div id="drop-area">
      <form>
        <p>Drop banana</p>
        <input type="file" id="file-input" accept="image/*" />
        <label for="file-input" id="upload-label">check</label>
      </form>
    </div>

    <script>
      const asciiArt = [
        "                                                                          \n  ##*                                                                     \n*#%%##*+                                                                  \n**##%%%##**++==-                                                          \n   +*##%%#####***+++=:                                                    \n      +*####%%%%%###**++==                                                \n       =*##%%%%%%%%%%%##**+++==                            -==++++****+   \n        =+##%%%%%%%%%%%%%%###**++++++===-.     .:-===+++++****###%%####*+ \n         -+*#%%%%%%%%%%%%%%%%%%%%###*****************####%%%%%%%%%%%###*+ \n           =+*#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#*+  \n             =++*#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#*+=   \n               -=++*##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#**+=     \n                   =+++**###%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##**+++=       \n                       -=+++++***########%%%%%%#######****+++==           \n                             :===+++++++++++++++++++++===-                \n                                                                          ",
        "                                                                          \n    **+                                                                   \n   *#%##*=                                                                \n   *##%%%#**++==                                                          \n     +*##%%###****++==:                                                   \n        **###%%%%%%##**++==                                               \n         :*##%%%%%%%%%%##**+++=-                           :==++++***+    \n          =+#%%%%%%%%%%%%%%%##***++++===-:      :-===+++++****########**  \n            +*#%%%%%%%%%%%%%%%%%%%###****************####%%%%%%%%%%%##*+  \n             =+*#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#*+   \n               =++*#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#*+=    \n                 :=++**##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#**+=      \n                     ==+++**###%%%%%%%%%%%%%%%%%%%%%%%%%%%##**++=:        \n                          ==++++******#############*****++++==            \n                                 =====+++++++++++++===-:                  \n                                                                          ",
        "                                                                          \n    **+                                                                   \n   *#%##*=                                                                \n   *##%%%#**++==                                                          \n     +*##%%###****++==:                                                   \n        **###%%%%%%##**++==                                               \n         :*##%%%%%%%%%%##**+++=-                           :==++++***+    \n          =+#%%%%%%%%%%%%%%%##***++++===-:      :-===+++++****########**  \n            +*#%%%%%%%%%%%%%%%%%%%###****************####%%%%%%%%%%%##*+  \n             =+*#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#*+   \n               =++*#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#*+=    \n                 :=++**##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#**+=      \n                     ==+++**###%%%%%%%%%%%%%%%%%%%%%%%%%%%##**++=:        \n                          ==++++******#############*****++++==            \n                                 =====+++++++++++++===-:                  \n                                                                          ",
        "                                                                          \n     ##*                                                                  \n    *#%##*+                                                               \n    *##%%%#*+++==-                                                        \n      +*##%###****++++=                                                   \n         **#####%####*+++++-                                              \n          **#####%%%%%###**++++=                           :==++++++=     \n           +*####%%%%%%%%%%##***++++++===-      .-===++++****########*+   \n            =*####%%%%%%%%%%%%%%####******+++++******####%%%%%%%%%%%%*+   \n              +*##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#*+    \n                +**##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#*++     \n                  -+***##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##*++-      \n                      =++***##%%%%%%%%%%%%%%%%%%%%%%%%%%%###*+++=         \n                          -=+++******##############*****++++=:            \n                                 :===++++++++++++++====                   \n                                                                          ",
        "                                                                          \n       #*+                                                                \n      #%%#**:                                                             \n      *##%%#*+++==-                                                       \n        **###*****+++++=                                                  \n           ***#######**+++++                                              \n           =*############**+++++=                         -=+++++++       \n            **#######%%%%%###***++++++===-     .--==++++****########*     \n             +*#######%%%%%%%%#####*****+++++++*****####%%%%%%%%%%%#+     \n               **#######%%%%%%%%%%%%##################%%%%%%%%%%%#*+=     \n                 **#########%%%%%%%%%%%%%##########%%%%%%%%%%%%##*+=      \n                   +***#############%%%%%%%%%%%%%%%%%%%%%%%%##*+++        \n                      -++***#################%%%%%%%%#####**+++=          \n                           =+++******############*****+++++=              \n                                 :====++++++++++++====                    \n                                                                          ",
        "                                                                          \n             =                                                            \n           ###*+                                                          \n           *#%#**+                                                        \n           ***##*++++++++=                                                \n              *++*******+++++-                            :.              \n               ++***####****++++=                  -++**********          \n               *+***########***++++++===--=-===++****####%%%%%#*          \n                ++***###########*****++++++*****########%%%%%#*+          \n                 +***##################################%%%%##*+=          \n                  =***####################################***++           \n                    :****##############################***+++             \n                       =+*****####################****++++=               \n                           =+++++*************++++++++=:                  \n                                 :======+++======-                        \n                                                                          ",
        "                                                                          \n               *=                                                         \n             *##*+=                                                       \n             **###*+=                                                     \n              +****++++++++=                                              \n                =++*******++++=                                           \n                 ++****#*****++++=                =++*******+             \n                 ++****#####****+++++===----==+++***###%%%%%*=            \n                  +****########******+++++++****#######%%%%#*+            \n                   +*****###########***********#######%%%##*+=            \n                    +*******##########******#############**++             \n                      ***********####################****++=              \n                        +******#################*****++++=                \n                            =++++************++++++++=:                   \n                                 :=======+++==+==                         \n                                                                          ",
        "                                                                          \n                 ##*+                                                     \n                =*##*+@                                                   \n                 **##*+++=                                                \n                  =*+++++++++==                                           \n                    ++*******+++=                                         \n                    +**********+++==             =++++++=                 \n                    ++*********+++++====:  ==++****#####**                \n                    ++*************++++++++++***#####%%%#*                \n                     ++*************************####%%###*                \n                      ++***********************########**+                \n                       =++********************####*****++                 \n                          ++***********************++++=                  \n                             +++++++********++++++++=                     \n                                  ====++=+======-                         \n                                                                          ",
        "                                                                          \n                    =***+                                                 \n                    **##*+                                                \n                    ++***++=+                                             \n                      ++++++++++=                                         \n                      =++******++++                                       \n                      +++******+++++=         -+++++=                     \n                      +++******+++++====  =++****###*+=                   \n                       ++********++++++=++++***###%%%*+                   \n                       +++**********++++******#######*+                   \n                        +++*******************######**+                   \n                         ++++***********************++                    \n                           ++++******************++++                     \n                              ++++++++**++++++++++=                       \n                                  =========+===                           \n                                                                          ",
        "                                                                          \n                              ****                                        \n                             *+***+                                       \n                              +**++=                                      \n                              ++++++++@                                   \n                             +++++++++++                                  \n                            +=+++++++++++++++*                            \n                            +++++++++++**###++=                           \n                            +=++++===+**##%#*++                           \n                            *=+++===++*######*+                           \n                             =+====+++*#####**+                           \n                             ==+===+++*******++                           \n                              +==++++++***++++                            \n                               *===+++++++++=                             \n                                  =========                               \n                                                                          ",
        "                                                                          \n                                  @****                                   \n                                  +***+                                   \n                                  =+**+                                   \n                                 ++++++++                                 \n                                ++++++++++                                \n                               +++++++++++=                               \n                               =+++**##*++=                               \n                               ===+*#%%#*+=+                              \n                               ==+*######*+=                              \n                               ==+*######*+=                              \n                               ==+********+=                              \n                               ==++++*++++==                              \n                                ===++++++==                               \n                                 =========                                \n                                                                          ",
        "                                                                          \n                                         ***                              \n                                        +***+                             \n                                        +**++                             \n                                    =++++++++                             \n                                   ++++++++++=                            \n                             ++++++++++++++++=                            \n                            ++*#%##*+++++++++=                            \n                            ++*#%##**+===++++=                            \n                            +*######*++====++=                            \n                            =***####*+++======                            \n                            =+********++=====                             \n                             +++++++++++++===                             \n                              ==+++++++====                               \n                                =========                                 \n                                                                          ",
        "                                                                          \n                                              +****                       \n                                             +***++                       \n                                         =++++++++                        \n                           ==         ++++++++++=                         \n                        =+******+*  *++++++++**+++                        \n                       =+#%%###*+++===++++++**++++                        \n                       =+##%###***+++==+++++++++++                        \n                       =*######***+++++++++++++++*                        \n                       =+***###****+++++++++++++=                         \n                        ++*********+++++++++++++                          \n                         +++++**++++++++++++++=                           \n                           ==++++++++++++++++                             \n                               ==========                                 \n                                                                          ",
        "                                                                          \n                                                  -**@                    \n                                                 +**#*+                   \n                                               =++*#***                   \n                                          ==+++++++++                     \n                                        +++++****+++                      \n                     =+*****++        ==++++******++=                     \n                    +*%#####**++++:====+++++******++=                     \n                    +##%%###****++++++++++*******+++                      \n                    +*#######******++++**********+++                      \n                    +***#####*******************+++                       \n                     ++************************+++                        \n                      ++++******************++++                          \n                        ==+++++++++++++++++++                             \n                             ==+========-                                 \n                                                                          ",
        "                                                                          \n                                                       +*@                \n                                                     +**#**               \n                                                ====+*##***               \n                 =+*****+=                  =++++++++++*+                 \n                +*#%####*****=          -==+++*******++                   \n                +*#%%%####*****+++======+++++*********+                   \n                **###%%####*******+++++**************++                   \n                *+**########*************************++                   \n                 +++****#####***********************++                    \n                   +++****************************++=                     \n                     ++++++*********************++                        \n                        =+++++++++++++++++++++=                           \n                              =+=========:                                \n                                                                          ",
        "                                                                          \n                                                          +*##            \n                                                        +**#%*=           \n                                                 ==++++++###**=           \n              =++++++                        =++++++****++**:             \n             *######*****+                =++++**********+                \n            :*%%%%%#####****+++========+++++****#####****+                \n            @*##%%%%########******++++******########****++                \n             +**###%###############################*****+                 \n              ++***###############################*****+                  \n               =+++****##########################****+                    \n                  =+++++*****################*****+                       \n                     =+++++++++++********+++++=-                          \n                            ===++=++=====-                                \n                                                                          ",
        "                                                                          \n                                                               +##        \n                                                            +**#%#*       \n                                                    ===+++++*#%##**       \n          =++++++=                             :++++++**********+         \n        *########****++:                   ==++++**#######***+            \n        +#%%%%%%%#####*****+++===-=====++++++**###########****            \n        =+##%%%%%%###########***********##################***             \n         =+*##%%%%%%#####################################**+              \n          =++**###%%%##################################**+                \n            =+++***#################################***+                  \n               ++++++***#######################***++=                     \n                   =++++++++++************++++++=                         \n                          =====++++=+=====:                               \n                                                                          ",
        "                                                                          \n                                                                 -**##    \n                                                               +*#%%%#*   \n                                                     -=+++*****#%%##**=   \n        :===                                    :=+++***##########*       \n    =***####****++=:                       :==+++**############*+         \n    +*%%%%%%%%%####****++++===-=--====+++++***###%%%%%%%######*+          \n    =+##%%%%%%%%%%%%%%#####***********#####%%%%%%%%%%%%%#####*+           \n     :+*#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%###*+.            \n       ++*##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##**+-              \n         +++**##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%###*++=                 \n           :++++***#####%%%%%%%%%%%%%%%%%%%####***+++=                    \n               -=+++++++******************++++++=-                        \n                       ===++++++=++++=====                                \n                                                                          ",
        "                                                                          \n                                                                    +*    \n                                                                 -*##%#*  \n                                                            -++**#%%%##*  \n                                                     =++*****###%%##*+    \n                                                -=++**###%%%#####**       \n    +*******+++=.                          -=++***#%%%%%%%%%####+         \n   *####%%%%###*****+++===--:. ::-===++++****##%%%%%%%%%%%%%%#*+=         \n   +*##%%%%%%%%%%%%%#####***********#####%%%%%%%%%%%%%%%%%%##*+           \n    +*#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##*+=            \n     ++*##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##*++=              \n       +++*##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%###**++=                 \n         :++++**####%%%%%%%%%%%%%%%%%%%%%%%###***++++=                    \n             ==++++++*******######*******++++++==                         \n                    -===++++++++++++++====                                \n                                                                          ",
        "                                                                          \n                                                                  *#*+    \n                                                               +*##%%*+   \n                                                        =++***##%%%#**+   \n                                                   =+***####%%%%##*=      \n                                               =+***##%%%%%%%%%#+         \n       :=++=-:                            -=+***##%%%%%%%%%%%#*+          \n    ***********++++====:          -==+++***###%%%%%%%%%%%%%%#*+=          \n    *######%%%%####******************###%%%%%%%%%%%%%%%%%%#*++            \n    **#####%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##*+++             \n     =**###%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##*+++=               \n       +**##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%###**++++                  \n         =++**###%%%%%%%%%%%%%%%%%%%%%%%%####**+++++=                     \n            :=+++*****#############*****+++++++=                          \n                  -==+++++++++++++++++===:                                \n                                                                          ",
        "                                                                          \n                                                               **+        \n                                                             *##%*+       \n                                                        :***##%##*+       \n                                                   +***####%%##*=         \n                                               =***###%%%%%%#*=           \n                                            +***#####%%%%%%#*+            \n                                        =+***######%%%%%%##*+=            \n          +++++++===:             :=++****########%%%%%##**+=             \n        ++**###*****+++++++++++******###########%%%%%##**++=              \n        +**####################################%%%###**+++                \n        +**#######################################***++=                  \n         +**##################################***++++=                    \n           +***##########################****+++++-                       \n             =++*****#############****+++++++==                           \n                 -==+++++++++++++++++++==                                 \n                                                                          ",
        "                                                                          \n                                                          **+             \n                                                         *#***            \n                                                       +*###**            \n                                                  ******##**+             \n                                              =****##%%%#*+               \n                                           =****####%%%##*                \n                                         +***######%%%##**                \n                                      =+****######%%###***                \n                  =               =++******######%####**+                 \n              ++++++++++++=++++++********###########**++                  \n             ++***********************###########***+++                   \n             +*********************##########*****+++                     \n             ++*******####################*****++++                       \n              +*******###############******++++==                         \n                +*******#####*********++++++=                             \n                   =+++++++++++++++++++=-                                 \n                         =======                                          \n                                                                          ",
        "                                                                          \n                                                     ****                 \n                                                    +###*                 \n                                                  =+*##**                 \n                                              *****##**=                  \n                                           +***###%%#*                    \n                                         ++**####%%##*=                   \n                                       ++***####%%###*@                   \n                                     +++***####%####**                    \n                                  ++++****########****                    \n                   +++++=======++++*******#######***+                     \n                  ++*****+++++++*********#####****++                      \n                 +++****************************+++                       \n                 =++*************************++++                         \n                  ++**********************+++++                           \n                   +++***************++++++=                              \n                     +++++++++++++++++===                                 \n                          -=======-                                       \n                                                                          ",
        "                                                                          \n                                                *****                     \n                                                +###*                     \n                                              =+*##**                     \n                                          -+****#**                       \n                                        ++**###%##+                       \n                                       ++**###%%##*                       \n                                     +++**###%%###*                       \n                                    +++***########*                       \n                                  ++++***#######***                       \n                       +++======+++++****#####****+                       \n                     @++++++++++++++****##*******+                        \n                     ++++++++++++++************++                         \n                     =+++++++++++***********+++=                          \n                     =+++++++++**********+++++                            \n                      ++++**+****+++++++++++                              \n                       =+++++++++++++====                                 \n                            =====+==                                      \n                                                                          ",
        "                                                                          \n                                         =**=                             \n                                         *###*                            \n                                        =*##*+                            \n                                       =+***+                             \n                                     ++**##*+                             \n                                    ++*#%%%#++                            \n                                   ++**#%%%##+=                           \n                                  ++**#%#####+=                           \n                                 *++*########+=                           \n                                 =++*########+=                           \n                              =+==++*#####***+                            \n                            +====++**********+                            \n                            =+===++*********+                             \n                           +====+++******+*++                             \n                           ====+++++++++++++                              \n                            =++++++++++++++                               \n                            +=+=++++++====                                \n                              =========                                   \n                                                                          ",
        "                                                                          \n                                   *#*                                    \n                                  *###*                                   \n                                  *##*+                                   \n                                  +***=                                   \n                                 ++*#**++                                 \n                                ++#%%%#*+=                                \n                               ++*#%%%%**+@                               \n                               +*#######*++                               \n                              =+*#######*++                               \n                              =+*########++                               \n                              @+**######**==                              \n                               =*********+=+                              \n                               =+********+==                              \n                               =+********+==                              \n                               ==+++++++++==                              \n                                =+++++++++==                              \n                                ====++++===*                              \n                                  ========                                \n                                                                          ",
        "                                                                          \n                          **##*                                           \n                          *###*=                                          \n                           **#*+                                          \n                            +****++                                       \n                           +*####**++                                     \n                          =+##%%##**++                                    \n                          =+###%%##**++                                   \n                          =+#######**++=                                  \n                          =+########**++=@                                \n                           +***#####**+++=======                          \n                           =+*********+++++==+++=                         \n                            ++*********+++++++++==                        \n                             ++++******+++++++++=+                        \n                              ++++++++++++++++++=+                        \n                                +++++++++++++++++                         \n                                 =====+++++++++=                          \n                                     -=======                             \n                                                                          ",
        "                                                                          \n                   ****                                                   \n                  **##*+                                                  \n                  **###*+                                                 \n                    +*##****+                                             \n                     +*#%###***+                                          \n                     *##%%####**++                                        \n                     *###%%####***++                                      \n                     **#########***+++                                    \n                     ****#######*****++++                                 \n                      +***#######******+++++=====+++++++                  \n                       ++****####**********++++++******+*                 \n                        +++***************************+++                 \n                          +++*************************+++                 \n                            +++++*********************++                  \n                              =++++++++************++++                   \n                                  ==++++++++++++++++=                     \n                                         ======                           \n                                                                          ",
        "                                                                          \n            ++                                                            \n          ***#*=                                                          \n          **#%#**                                                         \n           +**#%###***+                                                   \n             +**#%%####***+                                               \n               *##%%%%####****                                            \n               +*##%%%%#####****=                                         \n               ++*###%%%%######****+                                      \n                ++**##%%%%########****++                -====             \n                 ++***###%############*****+++++++++++++++****++          \n                  +++****####################*******########***+=         \n                    ++++****################################***++         \n                      =++++****#############################***+          \n                         -=++++*****#######################***+           \n                             ==++++++******############****++             \n                                  ==++++++++++++++++++++=:                \n                                            ====--                        \n                                                                          ",
        "                                                                          \n       +**                                                                \n      +*%##*                                                              \n      +*#%%##**+                                                          \n        +*#%%#####***+                                                    \n          =*#%%%%%%####***                                                \n           =+##%%%%%%%####***=                                            \n            +**#%%%%%%%######***+=                                        \n             ++*##%%%%%%%%#######****++=:              -==+++++***+       \n              =+**##%%%%%%%%###########*******++++++*******######****     \n                ++***##%%%%%%%%%##################################**+     \n                 :+++***###%%%%%%%%%%#############################***     \n                    =++++**####%%%%%%%%%%%%%%%%%#################*+       \n                       =+++++***######%%%%%%%%%%%%%%%%%#######**+=        \n                            ++++++++*****##############****+++=           \n                                  =+++++++++++++++++++++==-               \n                                                                          ",
        "                                                                          \n    **+                                                                   \n   *#%##*-                                                                \n   *##%%%#***++-                                                          \n     +*##%#####****++=                                                    \n        +*####%%%%%##***+=-                                               \n         -+##%%%%%%%%%%%##**++==                           :=+++*****+    \n          =+*#%%%%%%%%%%%%%%##*****+++==--. :: :--==++++****##########**  \n           :+*##%%%%%%%%%%%%%%%%%%%####************#####%%%%%%%%%%%###*+  \n             =+*##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#*+   \n               +++*##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#*++    \n                 =++++*###%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##**++      \n                     =++++***####%%%%%%%%%%%%%%%%%%%%%%%###***+++-        \n                         -=+++++++*******#######*******+++++==            \n                                 ====+++++++++++++++===                   \n                                                                          ",
      ];
      const container = document.getElementById("ascii-container");
      const dropArea = document.getElementById("drop-area");
      const fileInput = document.getElementById("file-input");
      let currentFrame = 0;
      let currentColorIndex = 0;
      const colors = ["#f2fc2b", "#f00", "#fff"]; // green, red, white
      const messageElement = document.getElementById("message");
      //   yes | no | idle | error
      let isBanana = "idle";

      function resetState() {
        isBanana = "idle";
        updateColor();
      }

      function updateFrame() {
        container.textContent = asciiArt[currentFrame];
        currentFrame = (currentFrame + 1) % asciiArt.length;
      }

      function typeMessage(message, color) {
        messageElement.style.color = color;
        messageElement.textContent = "";
        let i = 0;
        function typeChar() {
          if (i < message.length) {
            messageElement.textContent += message.charAt(i);
            i++;
            setTimeout(typeChar, 100);
          } else {
            messageElement.innerHTML += '<span id="cursor">|</span>';
          }
        }

        if (message == "") {
          console.log(message);
          messageElement.innerHTML = '<span id="cursor">|</span>';
        } else typeChar();
      }

      function getBananaColor(color) {
        switch (color) {
          case "yes":
            return "#f2fc2b";
          case "no":
          case "error":
            return "#f00";
          case "idle":
            return "#fff";
          default:
            return "#fff";
        }
      }
      function getBananaMessage(color) {
        console.log(color, "get messafge");
        switch (color) {
          case "yes":
            return "THAT'S BANANA";
          case "no":
            return "THAT'S NOT BANANA";
          case "error":
            return "Error happened";
          case "idle":
            return "Drop banana";
          default:
            return "Drop banana";
        }
      }
      function updateColor() {
        container.style.color = getBananaColor(isBanana);
        const message = getBananaMessage(isBanana);
        const color = getBananaColor(isBanana);
        typeMessage(message, color);
      }

      setInterval(updateFrame, 120); // Change frame every 100ms

      // Prevent default drag behaviors
      ["dragenter", "dragover", "dragleave", "drop"].forEach((eventName) => {
        dropArea.addEventListener(eventName, preventDefaults, false);
        document.body.addEventListener(eventName, preventDefaults, false);
      });

      ["dragenter", "dragover"].forEach((eventName) => {
        dropArea.addEventListener(eventName, highlight, false);
      });

      ["dragleave", "drop"].forEach((eventName) => {
        dropArea.addEventListener(eventName, unhighlight, false);
      });
      updateColor();
      dropArea.addEventListener("drop", handleDrop, false);

      function preventDefaults(e) {
        e.preventDefault();
        e.stopPropagation();
      }

      function highlight(e) {
        dropArea.classList.add("highlight");
      }

      function unhighlight(e) {
        dropArea.classList.remove("highlight");
      }

      function handleDrop(e) {
        const dt = e.dataTransfer;
        const files = dt.files;
        handleFiles(files);
      }

      fileInput.addEventListener("change", function (e) {
        handleFiles(this.files);
      });

      function handleFiles(files) {
        [...files].forEach(uploadFile);
      }

      console.log(window.location);
      function uploadFile(file) {
        const url = "https://api.isitbanana.com/upload-image/";

        function getApiUrl() {
          if (window.location.protocol == "file:") {
            return "http://localhost:8000";
          } else {
            return "https://api.isitbanana.com";
          }
        }

        const formData = new FormData();
        formData.append("file", file);

        fetch(getApiUrl() + "/upload-image/", { method: "POST", body: formData })
          .then((response) => response.json())
          .then((data) => {
            isBanana = data.type === "banana" ? "yes" : "no";
            updateColor();
            setTimeout(resetState, 5000); // Reset state every 5 seconds
          })
          .catch((error) => {
            console.error("Error:", error);
            isBanana = "error";
            updateColor();
            setTimeout(resetState, 5000); // Reset state every 5 seconds
          });
      }
    </script>
  </body>
</html>
